---
title: RStudio and Code
author: Varun Dommeti
tutorial:
  id: rstudio-and-code
output:
  learnr::tutorial:
    progressive: yes
    allow_skip: yes
runtime: shiny_prerendered
description: Introduction to R scripts, R Markdown and Quarto.
---

```{r setup, include = FALSE}
library(learnr)
library(primer.tutorials)
library(primer.data)
library(tidyverse)
library(knitr)
library(gistr)
knitr::opts_chunk$set(echo = FALSE)
options(tutorial.exercise.timelimit = 60, 
        tutorial.storage = "local")
```

```{r copy-code-chunk, child = "../../child_documents/copy_button.Rmd"}
```

```{r info-section, child = "../../child_documents/info_section.Rmd"}
```

<!-- Add more images? Like the terminate jobs window. Explain it. And explain, with an image, the necessity of opening in a new session. No worries if you mess up though. You can just re-open the tutorial and all your work is saved. 
-->

<!-- Build the R script graphic line by line, just like we do in the Basic Plots tutorial. -->

<!-- Restart R session several times? Restart RStudio session at least twice. Once for R Projects and once before starting R scripts.  -->

<!-- Use ls(). Talk about environment. -->

<!-- ?ggsave question -->

<!-- Don't use index.Rmd -->

<!-- Add something about code chunk options. Good example is warning=FALSE, which is needed when working with data with missing values, like nhanes$height. Start with echo = TRUE or FALSE. Explain what is going on with the setup R code chunk. -->

<!-- Use getwd() to determine the path of the current project. Mention that students should ensure that there are no spaces, if it all possible. Do this at end of Checking your Set Up. Deal with and/or check and/or educate about OneDrive and other Cloud-based locations where they are doing work. Do this at end of Checking your Set Up. Maybe the advice is to ensure that your projects are located on your machine, not in the cloud. This is possible to do! I'm going to try advising them, but I don't know how to check if it's on the cloud or not. I did find a tutorial here:  https://medium.com/@ValidScience/how-to-fix-rstudios-package-installation-on-windows-10-c1e602bf3a1f about dealing with OneDrive with R and its packages and stuff. -->


## Introduction
### 

Up until now, you have been typing your code into the neat boxes provided by our tutorials. What if you want to start working on your own? In this tutorial you will learn how to use R Script and R Markdown files, as well as how to publish your work using RPubs!

## Checking your setup
### 

This tutorial assumes that you have read and completed all the steps in the [Getting Started](https://ppbds.github.io/primer/getting-started.html) chapter of the *Primer*.


### Exercise 1

In the [Getting Started section](https://ppbds.github.io/primer/getting-started.html) of the *Primer*, you should have installed the **tidyverse** library, among others.

### 

Load the `tidyverse` library in your R Console using the `library()` function.

### 

Run `search()` in the Console to see the libraries that you've currently loaded, then copy and paste the result into the tutorial into the space below.

```{r checking-your-setup-1}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 3)
```

### 

There should be strings such as "package:tidyverse" in the output. These are the packages that you are currently loaded in your workspace.

### Exercise 2

Run `rstudioapi::readRStudioPreference(name = "load_workspace", default = "Code failed.")` in the Console. Copy and paste both the command and the result into the space below.

```{r checking-your-setup-2}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 3)
```

### 

The result should be FALSE. If the result was not FALSE, you should return to the [*Getting Started*](https://ppbds.github.io/primer/getting-started.html) section of the **Primer** and make sure you have completed all of the listed steps.

### Exercise 3

Look at the top left of your R Console. Here you should see the version of R you are running. It should look something like the image below.

```{r}
include_graphics("images/r_version.png")
```

Type `R.version` into the Console and hit return. Copy and paste both the command and the result into the space below. 

```{r checking-your-setup-3}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 3)
```

This should return a list of variables, including "major" and "minor", which tell you your R Version. This should be the same as the version you saw at the top left of the Console. 

One last thing to note is that `R.version` does not include parentheses at the end. This is because `R.version` is not a function, but rather a constant, which simply returns a specific value.

<!-- Add question about getwd() here. -->

<!-- DK: Where are you? Is that a good place? Look at the top of the Console tab. What version of R? -->

### Exercise 4

Shortly, we will create a new project for you to start working in. Before we do this, it might be useful to understand where you are right now.

In the R Console, run `getwd()`. Copy and paste both the command and the result into the space below. 

```{r checking-your-setup-4}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 3)
```

### 

This function returns the path to your current R Project. A path is simply the path you would use to reach a location on your computer. In this case, if you wanted to find the folder for your current R Project, you would follow the path returned by `getwd()`. 

<!-- Shorten this and link a resource for further info on paths -->

### Exercise 5

Whenever you start a new R Project, you will want to store it somewhere in which you can find it easily. Right now, you are likely in a secluded location on your computer. It would be much more useful to have a location dedicated to your R Projects to make them easier to find.

Lets make a folder, and call it `projects`

If you need help making a folder, helpful resources can be found [here](https://support.microsoft.com/en-us/office/create-a-new-folder-cbbfb6f5-59dd-4e5d-95f6-a12577952e17) for Windows, and [here](https://support.apple.com/guide/mac-help/organize-files-using-folders-mh26885/mac) for macOS.

It would also be a good idea to to store this folder in your desktop, so that it can be found easily.

<!-- Add confirmation question here -->

## R Projects
### 

It's time to make our new R Project. Let's get started. You will likely do this tens of times in this class alone, so make sure you pay close attention.

### Exercise 1

Please read all of the instructions before moving on, as you will be locked out of this tutorial while making your project.

Click on the dropdown menu at the top right of your R Studio Session. Then click "New Project". Recall back to the "Getting Started" tutorial, where we saw the "Terminate Jobs" warning. Remember that continuing here will close this tutorial.

In the new window which appears, click "New Directory" and then "New Project".

Name the Project "FirstRProject" and change the project subdirectory to your new `projects` folder. Click create project. Remember that you will need to reopen this tutorial in your new session after it has been created.

```{r}
include_graphics("images/new_project.gif")
```

In your new R Studio session, type `list.files()`. Copy and paste both the command and the result into the space below.

```{r r-projects-1}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 3)
```

### Exercise 2

Good Work! You've created a new R Project. For the rest of this tutorial we will be working in "FirstRProject".

### 

In "FirstR-roject", run the `get_wd()` function that we used earlier. Copy and paste both the command and the result into the space below. 

```{r r-projects-2}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 3)
```

The path should be different than the path we found earlier. If it isn't, you are likely still in your original R Session. 

### Exercise 3

## R Scripts
### 

So now we have a new project, but what if we want to start working? We could use the console directly, but its difficult to type more than a few lines of code into the Console at a time.

That's when we use **R Scripts**. Think of these like code chunks, but as an entire file.

<!-- Shorten this description -->

### Exercise 1

<!-- Rearrange order here. list.files() has been used before to the same effect. -->

<!-- Put a version of Exercise 1 and Exercise 2 in the R Projects section. Then do it again here but instead of list.files() use readLines() on .Proj. -->

Run the function `list.files()` in the R Console. Copy and paste both the command and the result into the space below. 

```{r r-scripts-1}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 3)
```

This should return only the `FirstRProject.Rproj` file. 

### Exercise 2

Let's create an R Script file so that we can start coding in R.

<!-- DK: Explain untitled. Show several questions of interactive work. -->

You can create an R Script by going to File -\> New File -\> R Script.

You should now see a completely blank, untitled file. At the top of the file you should see a save icon. Click on it and save the file as "FirstRScript" 

Run `list.files()` again in the Console to list all of the files. Copy and paste the output into the space below.

```{r r-scripts-2}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

You should now see `FirstRScript.R` in the output as well as the .Rproj file.

### Exercise 3

Type 5 * 5 into your R Script file and run it by clicking the Run button in the top right corner. This will run in the Console. Copy and paste the output into the space below.

```{r r-scripts-3}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

You should see that running the script file simply runs any code in the file in your R Console. 

### Exercise 4

On a new line in your R Script file add the command `ls()`. This time run the entire R Script file using the keyboard shortcut cmd/ctrl + shift + enter. Copy and paste the output into the space below.

```{r r-scripts-4}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

You should see that both commands ran. This is because you used the shortcut to run the entire file. The run button runs only the file your cursor is currently on.

The `ls()` command should have returned "character(0)". This is because there is no objects currently defined. 

### Exercise 5

Go back to the first line in your R Script. Change "5 * 5" to "x = 5 * 5" so that you are now defining the object `x`. Run the entire script again. Copy and paste the output into the space below.

```{r r-scripts-5}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

You should now see that the first line no longer returns "25" and `ls()` now returns "x". This is because you have now defined the object "x".

### Exercise 6

Ok, now that we're settled in and have started working with R Scripts, lets get to plotting. We will be making the following plot, step by step.

```{r}
hist_p <- ggplot(data = qscores, 
                 mapping = aes(x = rating)) +
  geom_histogram(bins = 5, 
                 color = "white", 
                 fill = "coral") + 
  labs(title = "Histogram of Student Ratings of Harvard Classes", 
       subtitle = "Ratings of 1 and 2 are very rare", 
       x = "Rating", 
       y = "Count", 
       caption = "Source: Harvard Q-Guide (2018-2019)")

hist_p
```

### 

First, delete the code currently in your R Script file. Then use the `library()` command with the `tidyverse` and `primer.data` libraries at the top of your R Script file. Run the file. 

Then use the `search()` function in your R Console. Copy and paste the output into the space below.

```{r r-scripts-6}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

This function returns a list of loaded libraries. This should include strings such as "package:tidyverse" and "package:primer.data".

### Exercise 7

Now start a `ggplot()` and set the `data` argument to `qscores`. Map `rating` to the x-axis to see the distribution of Harvard course ratings. Then add the layer `geom_histogram()`.

In the Console tab, run `readLines("FirstRScript.R")` and copy-paste the output into the space below.

```{r r-scripts-7}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

### Exercise 8

Now change the border and fill colors of our bins by setting `color` equal to `"white"` and `fill` equal to `"coral"` within `geom_histogram`.

In the Console tab, run `readLines("FirstRScript.R")` and copy-paste the output into the space below.

```{r r-scripts-8}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

This separates the different rectangles and makes the graph look better. If you want to change the color of the rectangles themselves instead of the border, use the `fill` argument.

### Exercise 9

Now, this graph has a lot of different rectangles, each representing its own rating. But we just want 5 rectangles, each representing the number of reviews for that star (we don't want decimal ratings). We can show this by using the `bins` argument.

### 

Specify the number of bins to be 5 using the `bins` argument in `geom_histogram()`.

In the Console tab, run `readLines("FirstRScript.R")` and copy-paste the output into the space below.

```{r r-scripts-9}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

You can also use the `binwidth` argument to change the width of the rectangles.

### Exercise 10

Now use `labs()` to set an appropriate title, subtitle, axes labels, and caption for the graph.

Reminder: This is what our graph should look like.

```{r}
hist_p
```

In the Console tab, run `readLines("FirstRScript.R")` and copy-paste the output into the space below.

```{r r-scripts-10}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

### Exercise 11

Ok, so now we have a plot stored in our R script. How do we use this plot for other things? Right now we have to run our script every time we want to see the plot, which is a little inconvenient. 

### 

Here we can use the `ggsave()` function. Type `?ggsave` in the R Console. Copy and paste the description into the space below.

```{r r-scripts-11}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

From the summary we can tell that `ggsave()` is used to save plots as a graphic. In this case we will be using the .png format. For a full list of graphics devices look into the device function in the `ggsave()` help page.


### Exercise 12

First, we need to save our entire graph to an object, which can be done by setting our pipe equal to a variable. Call this variable `hist_p`.

Now using the `ggsave()` function we can create a png of our plot from our code. In `ggsave()`, set `plot` to `hist_p`, `file` to `"hist-harvard.png"`. 

In the Console tab, run `list.files()` and copy-paste the output into the space below.

```{r r-scripts-12}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

This lists the files in your project directory. You should see your R Project as well as the `hist_p.png` file containing your plot. In the bottom right corner of your workspace in the `files` tab, click on the png to view your plot.

If the title text flows out of the image, you might want to modify the `scale` argument in `ggsave()` to find a better image size. `scale` is set to 1 by default.

## R Markdown
### 

<!-- VD: Shorten descriptions in this section  -->

R Markdown files are the primary way that we are going to be coding in R.

R Markdown is a file format for making dynamic documents with R. An R Markdown document is written in markdown (an easy-to-write plain text format) and contains chunks of embedded R code. In fact, the tutorial that you are completing right now was made in an R Markdown file!

These files are special because unlike R scripts they can be **knitted** into *reports* (or HTML files) that are used in websites. These reports can have both regular text, and code blocks. We'll be publishing an R Markdown file to RPubs.

You can learn more about how to write R Markdown files with [RStudio's website introducing R Markdown](https://rmarkdown.rstudio.com/articles_intro.html).

### Exercise 1

First off, let's create an R Markdown file. Go to File -\> New File -\> R Markdown. Title the file "index.Rmd" and proceed through the creation process.

```{r}
include_graphics("images/new_rmd.png")
```

Run `list.files()` in the Console and copy-paste the result below. The title of your R Markdown file should be one of the results.

```{r r-markdown-1}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### Exercise 2

The default R Markdown file should look like this:

```{r out.width = "875px"}
include_graphics("images/rmd_example.png")
```

### 

Each section has its own value.

### 

As you can see, a lot of the text is actually plain text. However, there are code chunks that display R code. Here's an example of an R code chunk.

```{r}
knitr::include_graphics("images/rmd_chunk_1.png")
```

```{r echo = FALSE}
plot(cars)
```

This allows you to use R to create graphs then display it in an R Markdown file with plain text descriptions.

Delete everything except the YAML header (contained by dashes) and the first code chunk (often known as the setup code chunk), then add "This is my first R Markdown text." at the bottom. Then press the "Knit" button at the top to display your rendered R Markdown file. This should have your custom text.

### 

Run `readLines("index.Rmd") |> tail()`

```{r r-markdown-2}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

This should return the last 6 lines of your R Markdown file.

### Exercise 3

Now, we earlier saw how a majority of the text within R Markdown files is just plain text. However, there was that one piece that wasn't the R Markdown Header.

### 

Essentially, R Markdown allows for Markdown syntax. That lets you **bold**, *italicize*, or `code` text. By doing this, you can format your report easily and make it look nice by just adding in a few extra symbols.

### 

Make the text created in the previous section a header by adding `##` at the beginning, then adding this text under that as a description: `You can do a lot of cool things in R Markdown like **bold** and *italic* text.` Knit the file again and make sure that everything is showing up correctly.

### 

Run `readLines("index.Rmd") |> tail()` in the Console, then copy-paste the command and the output below.

```{r r-markdown-3}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

This should contain the text that you created in this exercise as well as the previous text. You can find a full list of R Markdown formatting styles and commands [here](https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf).

### Exercise 4

Now let's try to add code chunks into our R Markdown file. Under the text that we added earlier, add a code chunk either by pressing the Add Chunk command at the top of the editor (the green C button with a plus sign next to it). The code chunk should look like this:

```{r}
knitr::include_graphics("images/rmd_chunk_2.png")
```

### 

Run `readLines("index.Rmd") |> tail()` in the Console, then copy-paste the command and the output below.

```{r r-markdown-4}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

This should show the code chunk you created.

### Exercise 5

Let's try graphing the **iris** data within our code chunk.

### 

First of all, we need to load the libraries that we need. In the setup chunk, use the `library()` function with the argument **tidyverse**.  Your setup chunk should look like this:

```{r}
knitr::include_graphics("images/rmd_chunk_3.png")
```

Right now, your libraries haven't been loaded. To load them, you must run the code chunk. This can be done using the Run button in the top right of your .Rmd file, or with the shortcut cmd + shift + enter.

Run the code chunk.

### 

Run `readLines("index.Rmd") |> head(15)` in the Console, then copy-paste the command and the output below.

```{r r-markdown-5}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### Exercise 6

Go back to the code chunk that you manually created. This is where we're going to be coding for the rest of this section.

### 

Let's create the following scatter plot in an R Markdown file:

```{r}
scat_p <- ggplot(data = iris, 
                 mapping = aes(x = Sepal.Width, 
                               y = Sepal.Length, 
                              color = Species)) +
  geom_point() +
  labs(title = "Measurements for Different Species of Iris",
       subtitle = "Virginica has the longest sepals",
        x = "Sepal.Width",
        y = "Sepal.Length", 
       caption = "Fisher (1936)")
scat_p
```

This graph should be similar to ones you have created in previous visualization tutorials.

### 

Within `ggplot()`, set `data` to `iris`. Also, map `Sepal.Width` to the x-axis and `Sepal.Length` to the y-axis. Add the layer `geom_point()`. It should look like the code below.

```{r}
knitr::include_graphics("images/rmd_code_ex_1.png")
```

### 

Run `readLines("index.Rmd") |> tail(10)` in the Console, then copy-paste the command and the output below.

```{r r-markdown-6}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### Exercise 7

Now we want to add a `color` aesthetic based on the different species of the iris flower. Set the argument `color` to `Species` inside the `aes()` function.

Run `readLines("index.Rmd") |> tail(10)` in the Console, then copy-paste the command and the output below.

```{r r-markdown-7}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

The output should include the last 10 lines of code in your R Markdown file.

### Exercise 8

We just built the basic graph, but it still looks ugly. Labels are important for adding context to the graph and making it easy to understand.

### 

Use the `labs()` function to add a title and axis labels to the graph.

Set the `title` to `"Measurements for Different Species of Iris"` and the `subtitle` to `"Virginica has the longest sepals"`.

To label the axes, set `x` to `"Sepal.Width"` and `y` to `"Sepal.Length"`. Set the `caption` to `"Fisher (1936)"`.

Run `readLines("index.Rmd") |> tail(10)` in the Console, then copy-paste the command and the output below.

```{r r-markdown-8}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

Reminder: This is generally what our graph should look like.

```{r}
scat_p
```

### 

Congratulations on completing the plot. Go ahead and knit the file to see what it looks like.

### Exercise 9

Now, we just used a code chunk because we wanted to do a full graph. But that's very long and annoying, and it doesn't let you put anything in the same line as your text. This is when we can use inline R code.

### 

Inline R code is essentially a way for you to put R calculations in the same line as your text. For example, let's run the following R code chunk.

```{r}
knitr::include_graphics("images/rmd_chunk_4.png")
```

```{r}
x <- 1234567890
x
```

What if we want to include whatever value of the `x` variable in our lines of text?

We can display variable values in the same line as normal text by using inline R code. For example, here's what the number looks like in the R Markdown file.

The variable x has a value of: `r scales::comma(x)`.

And here's what the R Markdown text looks like:

The variable x has a value of: `` `r knitr::inline_expr("scales::comma(x)")` ``.

### 

As you can see, it's just a condensed version of a full code chunk. We declare the language (R) and then state our function (`scales::comma(x)`). By doing this, we can put R code in the same line as actual text.

### 

Let's try this in our actual R Markdown file. To start, add a new code chunk that declares the `x` variable and sets its value to `1234567890`.

### 

Run `readLines("index.Rmd") |> tail(10)` in the Console, then copy-paste the command and the output below.

```{r r-markdown-9}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

This sets up our code function by declaring the value of x.

### 

If you want to hide this code chunk from when you generate the report, add "echo=FALSE" as an argument by the "r" at the top of the code chunk. The first line of the chunk should look like `{r, echo=FALSE}`.

### Exercise 10

Now let's actually use that `x` variable in some inline R code. While you can just type out the values into an Rmd, it is always recommended to calculate the value of a piece of data on the fly, so that if the dataset is modified, the text remains accurate.

### 

Add the following line at the bottom of your R Markdown file, after the code chunk created in the last exercise.

The variable x has a value of `` `r knitr::inline_expr("scales::comma(x)")` ``.

### 

Run `readLines("index.Rmd") |> tail(10)` in the Console, then copy-paste the command and the output below.

```{r r-markdown-10}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

When you knit your file, you should be able to see that the `` `r knitr::inline_expr("scales::comma(x)")` `` has been replaced with another value that's formatted correctly.

### 

This is why inline R code is valuable, as it allows you to format numbers or show functions in the same line as your text.

### Exercise 11

Remember our .png file from earlier? Lets add that image to our Rmd! 

### 

In the console, install the `knitr` package using `install.packages()`, and add `library(knitr)` to your setup chunk at the top of your R Markdown. Run the setup chunk again.

### 

Make a new header with the title "Harvard Histogram". Under this header, create a new code chunk. Remember to use the argument `echo = FALSE` to stop your code from showing up upon knitting the file.

In your new code chunk, use the function `include_graphic()`. Set the argument to the name of your .png. Remember to use quotes. The command should look something like `include_graphics("hist_p.png")`.

### 

Knit the file, and take a look at your completed R Markdown. It should now include both your first graph and the graph from your R script.

Run `readLines("index.Rmd") |> tail(10)` in the Console, then copy-paste the command and the output below.

```{r r-markdown-11}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

Congratulations on creating a full R Markdown file. You have learned how to create plots, add text, use inline R code, and include images. Now let's try to publish it to the Internet.

## Publishing to RPubs
### 

We'll be publishing our R Markdown files on the Internet by using [RPubs](https://rpubs.com/), a free web publishing service. This is a fairly simple process, but you will need to create an RPubs account.

### Exercise 1

Knit the R Markdown file that you've been working in so far. By knitting, you are generating a report written in HTML, which is what Rpubs publishes on the web.

### 

Run `list.files()` in the Console, then copy-paste the command and the result below.

```{r publishing-to-rpubs-1}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

You should see a `.html` file with the same name as your R Markdown file in the result.

### 

It's recommended to change the YAML header to get rid of information like the date and title, as it looks bad in the final knit. However, make sure not to mess with the rest of the YAML formatting because it is a very structurally sensitive language. You can learn more about YAML editing at [bookdown.org](https://bookdown.org/yihui/bookdown/r-markdown.html).

### Exercise 2

Notice a blue icon in the upper right-hand corner that reads `Publish`. Click it.

```{r out.width = "875px"}
include_graphics("images/rpubs-5.png")
```

### Exercise 3

You will be asked whether you want to publish to Rpubs or to RStudio Connect. For our purpose here we will be using RPubs. You will get a reminder that all documents you publish on RPubs are publicly visible. Click "Publish".

```{r}
include_graphics("images/rpubs-6.png")
```

### Exercise 4

This will take you to the RPubs website. You will need to create an account. Follow the steps as prompted.

```{r}
include_graphics("images/rpubs-7.png")
```

### Exercise 5

Add document details. Name your document. Add a meaningful slug (a unique website name that's often just the name of your project), otherwise you will end up with an ugly, long address you didn't choose and can't remember. You can leave the description blank if you don't want to add one.

```{r}
include_graphics("images/rpubs-8.png")
```

### Exercise 6

Hit "Continue". You have now published your first document to RPubs! People can now access it on the internet and see what you did for this file!

```{r out.width = "875px"}
include_graphics("images/rpubs-9.png")
```

### Exercise 7

You finished publishing your page to RPubs! Put the link to your RPubs page in the space below.

```{r publishing-to-rpubs-7}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    rows = 2)
```

### 

Keep in mind that this is a website that can be found on the internet.

## Summary
Good work on finishing this tutorial! You now know how to use R Scripts, R Markdowns, how to publish a page on the internet using RPubs, and how to use a plethora of useful R commands!

```{r download-answers, child = "../../child_documents/download_answers.Rmd"}
```
