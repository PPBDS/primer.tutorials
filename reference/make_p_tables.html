<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Insert Preceptor and Population Table Templates in Quarto — make_p_tables • primer.tutorials</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Insert Preceptor and Population Table Templates in Quarto — make_p_tables"><meta name="description" content='These tables are meant to be self-contained and interpretable in isolation. Each table includes five spanner headers:
"Unit" (or "Unit/Time" in the Population Table)
"Outcome" for predictive models, or "Potential Outcomes" for causal models
"Treatment" (included only in causal models)
"Covariates" — a set of user-specified labels (typically 3)


The labels provided to this function are not variable names from a dataset, but rather human-readable phrases (e.g., "Math Score if in Small Class"). Long labels will be wrapped automatically when rendered using the {gt} package.
The goal is to visually communicate which variables play which roles in your modeling. Each spanner groups columns of a shared type. Footnotes help document the rationale and context for each set of variables.
NOTE: all table entries must be surrounded by double quotes, even numbers (Ex: "42").
Footnotes will appear under:
the table title (background/motivation)
the Units (unit/time range)
the Outcome(s) (why this outcome is used)
the Treatment (how it’s defined in the Preceptor vs. Population Table)
the Covariates (why these were chosen and whether they differ across the two tables)


The author is encouraged to fill in or delete these footnotes after the code is inserted. To remove a footnote, simply set it to NULL. This will hide the footnote from the rendered gt table.
Preceptor and Population Tables are inserted together. The Population Table includes a "Source" column as its first column, which takes values "Data" or "Preceptor Table" depending on origin. This structure encourages comparison between expected and observed values.
Behind the scenes, these tables are generated using tibble::tribble() for easier manual editing by row. This helps authors align values vertically and encourages clear visual structure in the Quarto document.'><meta property="og:description" content='These tables are meant to be self-contained and interpretable in isolation. Each table includes five spanner headers:
"Unit" (or "Unit/Time" in the Population Table)
"Outcome" for predictive models, or "Potential Outcomes" for causal models
"Treatment" (included only in causal models)
"Covariates" — a set of user-specified labels (typically 3)


The labels provided to this function are not variable names from a dataset, but rather human-readable phrases (e.g., "Math Score if in Small Class"). Long labels will be wrapped automatically when rendered using the {gt} package.
The goal is to visually communicate which variables play which roles in your modeling. Each spanner groups columns of a shared type. Footnotes help document the rationale and context for each set of variables.
NOTE: all table entries must be surrounded by double quotes, even numbers (Ex: "42").
Footnotes will appear under:
the table title (background/motivation)
the Units (unit/time range)
the Outcome(s) (why this outcome is used)
the Treatment (how it’s defined in the Preceptor vs. Population Table)
the Covariates (why these were chosen and whether they differ across the two tables)


The author is encouraged to fill in or delete these footnotes after the code is inserted. To remove a footnote, simply set it to NULL. This will hide the footnote from the rendered gt table.
Preceptor and Population Tables are inserted together. The Population Table includes a "Source" column as its first column, which takes values "Data" or "Preceptor Table" depending on origin. This structure encourages comparison between expected and observed values.
Behind the scenes, these tables are generated using tibble::tribble() for easier manual editing by row. This helps authors align values vertically and encourages clear visual structure in the Quarto document.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">primer.tutorials</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cardinal_virtues.html">Cardinal Virtues</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ppbds/primer.tutorials/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Insert Preceptor and Population Table Templates in Quarto</h1>
      <small class="dont-index">Source: <a href="https://github.com/ppbds/primer.tutorials/blob/master/R/make_p_tables.R" class="external-link"><code>R/make_p_tables.R</code></a></small>
      <div class="d-none name"><code>make_p_tables.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These tables are meant to be self-contained and interpretable in isolation. Each table includes five spanner headers:</p><ul><li><p><code>"Unit"</code> (or <code>"Unit/Time"</code> in the Population Table)</p></li>
<li><p><code>"Outcome"</code> for predictive models, or <code>"Potential Outcomes"</code> for causal models</p></li>
<li><p><code>"Treatment"</code> (included only in causal models)</p></li>
<li><p><code>"Covariates"</code> — a set of user-specified labels (typically 3)</p></li>
</ul><p>The <em>labels</em> provided to this function are <strong>not variable names from a dataset</strong>, but rather <strong>human-readable phrases</strong> (e.g., <code>"Math Score if in Small Class"</code>). Long labels will be wrapped automatically when rendered using the <code>{gt}</code> package.</p>
<p>The goal is to visually communicate which variables play which roles in your modeling. Each spanner groups columns of a shared type. Footnotes help document the rationale and context for each set of variables.</p>
<p>NOTE: all table entries must be surrounded by double quotes, even numbers (Ex: "42").</p>
<p>Footnotes will appear under:</p><ul><li><p>the <strong>table title</strong> (background/motivation)</p></li>
<li><p>the <strong>Units</strong> (unit/time range)</p></li>
<li><p>the <strong>Outcome(s)</strong> (why this outcome is used)</p></li>
<li><p>the <strong>Treatment</strong> (how it’s defined in the Preceptor vs. Population Table)</p></li>
<li><p>the <strong>Covariates</strong> (why these were chosen and whether they differ across the two tables)</p></li>
</ul><p>The author is encouraged to fill in or delete these footnotes after the code is inserted. To <strong>remove</strong> a footnote, simply set it to <code>NULL</code>. This will hide the footnote from the rendered <code>gt</code> table.</p>
<p>Preceptor and Population Tables are inserted together. The Population Table includes a <code>"Source"</code> column as its first column, which takes values <code>"Data"</code> or <code>"Preceptor Table"</code> depending on origin. This structure encourages comparison between expected and observed values.</p>
<p>Behind the scenes, these tables are generated using <code><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tibble::tribble()</a></code> for easier manual editing by row. This helps authors align values vertically and encourages clear visual structure in the Quarto document.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make_p_tables</span><span class="op">(</span></span>
<span>  is_causal <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  unit_label <span class="op">=</span> <span class="st">"Unit"</span>,</span>
<span>  outcome_label <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="va">is_causal</span><span class="op">)</span> <span class="st">"Potential Outcomes"</span> <span class="kw">else</span> <span class="st">"Outcome"</span>,</span>
<span>  treatment_label <span class="op">=</span> <span class="st">"Treatment"</span>,</span>
<span>  covariate_1_label <span class="op">=</span> <span class="st">"sex"</span>,</span>
<span>  covariate_2_label <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>  covariate_3_label <span class="op">=</span> <span class="st">"incumbent"</span>,</span>
<span>  pre_time <span class="op">=</span> <span class="st">"2020"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-is-causal">is_causal<a class="anchor" aria-label="anchor" href="#arg-is-causal"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, generates a causal table with treatment and potential outcomes; if <code>FALSE</code>, generates a predictive table with one outcome and no treatment column.</p></dd>


<dt id="arg-unit-label">unit_label<a class="anchor" aria-label="anchor" href="#arg-unit-label"></a></dt>
<dd><p>Character. Label for the unit spanner (e.g., <code>"Student"</code> or <code>"Senator"</code>).</p></dd>


<dt id="arg-outcome-label">outcome_label<a class="anchor" aria-label="anchor" href="#arg-outcome-label"></a></dt>
<dd><p>Character. Label for the outcome spanner. Should be <code>"Outcome"</code> for predictive models, or <code>"Potential Outcomes"</code> for causal models.</p></dd>


<dt id="arg-treatment-label">treatment_label<a class="anchor" aria-label="anchor" href="#arg-treatment-label"></a></dt>
<dd><p>Character. Label for the treatment spanner. Required only if <code>is_causal = TRUE</code>.</p></dd>


<dt id="arg-covariate-label">covariate_1_label<a class="anchor" aria-label="anchor" href="#arg-covariate-label"></a></dt>
<dd><p>Character. Label for the first covariate.</p></dd>


<dt id="arg-covariate-label">covariate_2_label<a class="anchor" aria-label="anchor" href="#arg-covariate-label"></a></dt>
<dd><p>Character. Label for the second covariate.</p></dd>


<dt id="arg-covariate-label">covariate_3_label<a class="anchor" aria-label="anchor" href="#arg-covariate-label"></a></dt>
<dd><p>Character. Label for the third covariate.</p></dd>


<dt id="arg-pre-time">pre_time<a class="anchor" aria-label="anchor" href="#arg-pre-time"></a></dt>
<dd><p>Character. Default value used to populate the <code>"Time/Year"</code> column of the Preceptor Table. This helps authors indicate when expectations were formed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>This function inserts R code chunks directly into your currently open Quarto document, using <code><a href="https://rstudio.github.io/rstudioapi/reference/rstudio-documents.html" class="external-link">rstudioapi::insertText()</a></code>. The chunks include tibbles, <code>gt</code> rendering code, editable footnotes, and cleanup.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function inserts a five-chunk Quarto-ready template for creating <strong>Preceptor Tables</strong> and <strong>Population Tables</strong>. These tables are designed to support causal and predictive modeling workflows by clearly labeling variables with spanners and encouraging thorough documentation via editable footnotes.</p>
<p>The output includes:</p><ul><li><p>a tibble for the <strong>Preceptor Table</strong></p></li>
<li><p>a tibble for the <strong>Population Table</strong> (which includes Preceptor rows)</p></li>
<li><p><code>gt</code> code to display each table with labeled spanners</p></li>
<li><p>editable footnotes for each section of the table</p></li>
<li><p>cleanup code to remove temporary objects</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Required packages:
This function depends on the following packages:</p><ul><li><p><code>gt</code>: for rendering the tables</p></li>
<li><p><code>tibble</code>: for creating the data structure</p></li>
<li><p><code>glue</code>: for dynamically constructing column names and labels</p></li>
</ul><p>You can install them if not already installed:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gt"</span>, <span class="st">"tibble"</span>, <span class="st">"glue"</span><span class="op">)</span><span class="op">)</span></span></code></pre><p></p></div>
<ul><li><p>No default values are provided for labels, other than <code>NULL</code>. If a required argument is not supplied, the function will return an error.</p></li>
<li><p>The code chunk environments are self-contained and designed to avoid variable conflicts in the surrounding document.</p></li>
<li><p>Labels should be kept concise but human-readable. If necessary, abbreviate.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>

    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://davidkane.info" class="external-link">David Kane</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

